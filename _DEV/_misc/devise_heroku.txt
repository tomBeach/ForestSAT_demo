	modified:   app/models/user.rb
	modified:   app/views/devise/confirmations/new.html.erb
	modified:   app/views/devise/mailer/confirmation_instructions.html.erb
	modified:   config/environments/development.rb
	modified:   config/initializers/email_setup.rb

  # ====== added devise mailer lines =======
  config.action_mailer.default_url_options = { host: 'localhost', port: 3000 }
  config.action_mailer.delivery_method = :smtp
  config.action_mailer.default :charset => "utf-8"
  config.action_mailer.perform_deliveries = true
  config.action_mailer.raise_delivery_errors = true
  config.action_mailer.smtp_settings = {
    user_name:      ENV['SENDMAIL_USERNAME'],
    password:       ENV['SENDMAIL_PASSWORD'],
    domain:         ENV['MAIL_HOST'],
    address:       'smtp.gmail.com',
    port:          '587',
    authentication: :plain,
    enable_starttls_auto: true
  }

  # ====== added devise mailer lines =======
  # config.action_mailer.default_url_options = { host: 'localhost', port: 3000 }
  config.action_mailer.default_url_options = { host: ENV['MAIL_HOST'] }
  config.action_mailer.delivery_method = :smtp
  config.action_mailer.perform_deliveries = true
  config.action_mailer.raise_delivery_errors = true
  config.action_mailer.smtp_settings = {
    user_name:      ENV['SENDMAIL_USERNAME'],
    password:       ENV['SENDMAIL_PASSWORD'],
    domain:         ENV['MAIL_HOST'],
    address:       'smtp.gmail.com',
    port:          '587',
    authentication: :plain,
    enable_starttls_auto: true
  }


== gemfile
gem 'devise'

== install
$ bundle install

$ rails generate devise:install

== file changes
config/development.rb

config.action_mailer.default_url_options = { :host => 'localhost:3000' }
config.action_mailer.delivery_method = :smtp
config.action_mailer.perform_deliveries = true

= generators
$ rails generate devise:views
$ rails generate devise User

== devise migration
uncomment ##Confirmable

== models
user.rb
:confirmable

== heroku
log out
$ herokui auth:logout
$ heroku addons:add sendgrid:starter
$ heroku addons
$ heroku config:get SENDGRID_USERNAME

== config initializers
setup_mail.rb
ActionMailer::Base.delivery_method = :smtp
ActionMailer::Base.smpt_settings = {
  :address => 'smtp.sendgrid.net',
  :port => 'smtp.sendgrid.net',
  :authentication => :plain,
  :user_name => '<username>',
  :password => '<password>',
  :domain => 'heroku.com',
  :enable_starttls_auto => true
}

== server
$ rails s


======= ======= ======= ======= =======

$ rails g mailer welcome_mailer

after_create :welcome_send

def welcome_send
  WelcomeMailer.welcome_send(self).deliver
  redirect_to home_path
end

class WelcomeMailer.welcome_send < ApplicationMailer

  def welcome_send(user)
    mail to: user.email, subject: "Welcome"
  end

end




